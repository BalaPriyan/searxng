digraph G {

  node [style=filled, shape=box, fillcolor="#ffffcc", fontname="Sans"];
  edge [fontname="Sans"];

  browser [label="Browser", shape=Mdiamond];
  rp      [label="Reverse Proxy", href="https://searxng.github.io/searxng/utils/filtron.sh.html#public-reverse-proxy"];
  filtron [label="Filtron",       href="https://searxng.github.io/searxng/utils/filtron.sh.html"];
  morty   [label="Morty",         href="https://searxng.github.io/searxng/utils/morty.sh.html"];
  static  [label="Static files",  href="url to configure static files"];
  uwsgi   [label="uwsgi",         href="https://searxng.github.io/searxng/utils/searxng.sh.html"]
  searxng1  [label="Searxng #1"];
  searxng2  [label="Searxng #2"];
  searxng3  [label="Searxng #3"];
  searxng4  [label="Searxng #4"];

  browser -> rp [label="HTTPS"]

  subgraph cluster_searxng {
      label = "Searxng instance" fontname="Sans";
      bgcolor="#fafafa";
      { rank=same; static rp };
      rp -> morty      [label="optional: images and HTML pages proxy"];
      rp -> static     [label="optional: reverse proxy serves directly static files"];
      rp -> filtron    [label="HTTP"];
      filtron -> uwsgi [label="HTTP"];
      uwsgi -> searxng1;
      uwsgi -> searxng2;
      uwsgi -> searxng3;
      uwsgi -> searxng4;
  }

}
